[![N|Solid](https://www.frd.org.mx/img/lg-fundacionDonde.png)](https://frd.org.mx/)
"<%=lambda_servicio%>",
==========

Autor: <%=usuario_nombre%>
Email: [<%=usuario_email%>](<%=usuario_email%>)
Fecha: <%=fecha%>

## Como empezar

Este proyecto utiliza el framework serverless para subir la lambda a AWS.


### Pre-Requisitos

* Serverless framework
* Node JS > 8
* Cuenta de AWS
* Key y Secret Key para realizar deploy
* En el archivo serverless.yml, cambiar el profile por el configurado en el archivo credencials 

### Implementación del Aplicativo

Ejecutar los siguientes comandos:

* npm i
* sls deploy

### Invocar lamdbas de otra cuenta

Configura las siguientes variables en el serverless, las cuales corresponden al ID de la cuenta y el rol que permite la ejecucion del lambda
```yml
IdCuentaExterna: 000000000000
NombreRolExterno: NombreRol
ArnRolExterno: arn:aws:iam::${self:custom.IdCuentaExterna}:role/${self:custom.NombreRolExterno}
```

Localiza estas lineas, en caso estar comentadas se deben descomentar
```yml
- Effect: Allow
    Action:
    - sts:assumeRole
    Resource:
    - ${self:custom.ArnRolExterno}
```

Por ultimo confirmar que la variable "ARN_ROL_EXTERNO" se encuentre entre las variables de entorno, se utiliza para inicializar el sdk de invocacion de lambdas
```yml
functions:
  funcion_lambda:
    handler: handler.funcion_lambda
    name: ${self:service}
    environment:
      ARN_ROL_EXTERNO: ${self:custom.ArnRolExterno}
```

Para realizar la invocacion del lambda utilizar el servicio incluido la ruta "servicios/invocaLambdaExterna.js"
```js
const invocaLambdaExterna = require('./servicios/invocaLambdaExterna');

let payload = {};
let respuesta = await invocaLambdaExterna(process.env.LAMBDA_BUSQUEDA_CLIENTE, payload);
```


* sls deploy


## Tecnologías Utilizadas

| Plugin | README |
| ------ | ------ |
| plugin1 | [https://plugin1.net] |
| plugin2 | [https://plugin2.net/]|

## Versionamiento

Lista de Versiones del Aplicativo

## Autor

Autor - [Email](example@frd.org.mx)

## Licencia

Este proyecto fue realizado para uso exclusivo de Fundación Rafael Dondé y se rige bajo sus estatutos y condiciones de uso.
Para mas información referirse a [Contacto FDR](http://frd.org.mx/contacto.aspx)